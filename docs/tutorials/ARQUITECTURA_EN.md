# ğŸ—ï¸ Architecture â€” Anclora Flow

## ğŸ”¹ Overview

Anclora Flow is a modular app designed for deployment with a scalable, portable, open source-first microservice architecture. Ideal for freelancers and agencies with minimal operational cost.

## ğŸš¦ Main components

- **Frontend:** Modern SPA (Vite, JS/React, Tailwind), mobile-first UI, sidebar navigation, configurable header, full i18n.
- **Backend/API:** Node.js + Express, REST endpoints, JWT/OAuth, multi-user management.
- **AI Services:** Python + FastAPI, main orchestrator, specialized sub-agents, RAG API access, ingestion API for contributors.
- **Database:** PostgreSQL (Supabase/Neon), multi-tenant structure possible.
- **Infrastructure:** Docker Compose orchestration, envs for all configs, CI/CD via GitHub Actions.
- **Docs & tests:** Repos professionally organized, multi-level tests, bilingual documentation.

## ğŸ”¹ Port assignments

- Frontend: 3020
- Backend/API: 8020
- AI Services: 8021... (expandable)
- DB: 5452

(PORTS.md file is placed in the workspace root to coordinate all active projects.)

## ğŸ”¹ Auth and roles

- Email/password and social login (Google/GitHub OAuth)
- Roles: user, contributor (edit RAG via API), admin (advanced control panel)
- Refresh tokens and JWT in HttpOnly cookies

## ğŸ”¹ AI orchestrator assistant

- Main orchestrator routes to specialized sub-agents (finance, subscriptions, calendar, BI, automation, RAG agent)
- Document retrieval via RAG API, ingestion open for contributor users
- Proactive suggestions and automated workflows generated by AI

## ğŸ”¹ Recommended stack (open source, low cost)

- **Frontend:** Vite, Vanilla JS/React, TailwindCSS
- **Backend:** Node.js + Express, Passport.js/JWT
- **AI:** Python + FastAPI, Ollama local LLM, Sentence-Transformers embeddings
- **DB:** PostgreSQL, Supabase, TimescaleDB (optional)
- **Infra:** Docker, Docker Compose, GitHub Actions, Traefik as needed

## ğŸ›¡ï¸ Security

- Env vars managed with `.env`, `.env.example`
- Documented roles, encrypted logs, GDPR-ready
- Automated component and e2e testing

## ğŸ“¦ Recommended structure

See README_EN.md for the file and folder tree.

## ğŸ–¥ï¸ Integration example

- Run `docker-compose up --build`
- Access at ports: 3020 (frontend), 8020 (backend), 8021 (AI), 5452 (DB)
- Review the workspace PORTS.md before deploying new projects.

---

This model supports clean CI/CD integration and clear independence of components, enabling progressive evolution (React/Vue, microservices scaling, etc.).
